function debounce(a,r){var i;return function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){return a.apply(e,n)},r)}}document.addEventListener("DOMContentLoaded",function(){var t,e,n,o,a,r,i,s,u,l,d,c,m=document.getElementById("session-extend-modal");m&&(t=new bootstrap.Modal(m),e=parseInt(m.dataset.sessionTimeout,10),n=parseInt(m.dataset.reminderTime,10),o=m.dataset.refresh,a=m.dataset.logoutUrl,r=document.getElementById("session-countdown"),l=function(){clearTimeout(i),clearInterval(s),i=setTimeout(function(){var e=new CustomEvent("foundation:session-reminder",{detail:{remainingTime:60*n}});window.dispatchEvent(e),u=60*n,t.show(),d()},60*(e-n)*1e3)},d=function(){r&&(r.textContent="".concat(u,"s"),s=setInterval(function(){--u<=0?(clearInterval(s),window.location.href=a):r.textContent="".concat(u,"s")},1e3))},m=document.querySelector('[button-id="session-extend-refresh-btn"]'),c=document.querySelector('[button-id="session-extend-logout-btn"]'),m&&m.addEventListener("click",function(){fetch(o,{method:"POST",credentials:"include"}).then(function(){t.hide(),l()})}),c&&c.addEventListener("click",function(){window.location.href=a}),l())}),document.querySelectorAll(".tabulator-table").forEach(function(e){var t={layout:e.dataset.layout||"fitColumns",pagination:!0,paginationSize:parseInt(e.dataset.paginationSize||"10"),columns:[],height:"100%"};if(e.dataset.columns)try{t.columns=JSON.parse(e.dataset.columns)}catch(e){console.error("Failed to parse columns:",e)}e.dataset.set?t.data=JSON.parse(e.dataset.set):e.dataset.ajaxurl&&(t.ajaxURL=e.dataset.ajaxurl,t.filterMode="remote",t.sortMode="remote",t.ajaxConfig="POST",t.ajaxContentType="json",t.paginationMode="remote",t.filterMode="remote"),new Tabulator(e,t)}),document.querySelectorAll(".tabulator-search-input").forEach(function(e){e.addEventListener("input",debounce(function(e){var t=e.target.dataset.tabulatorId,t=Tabulator.findTable("#"+t)[0],n=e.target.value.trim();t&&(""===n?t.clearFilter():(console.log(t.getColumns()),e=t.getColumns().filter(function(e){return e.getDefinition().filter}).map(function(e){return e.getField()}),t.setFilter(e.map(function(e){return{field:e,type:"like",value:n}}))))},200))});
//# sourceMappingURL=foundation.min.js.map
