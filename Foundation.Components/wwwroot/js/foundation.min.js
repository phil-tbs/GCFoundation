function debounce(a,i){var r;return function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];clearTimeout(r),r=setTimeout(function(){return a.apply(t,n)},i)}}document.addEventListener("DOMContentLoaded",function(){var e,n,o,a,i,t,r,s=document.getElementById("session-extend-modal");s&&(e=new bootstrap.Modal(s),t=parseInt(s.dataset.sessionTimeout,10),n=parseInt(s.dataset.reminderTime,10),o=document.getElementById("session-countdown"),i=60*n,setTimeout(function(){var t=new CustomEvent("foundation:session-reminder",{detail:{remainingTime:60*n}});window.dispatchEvent(t),e.show(),o&&(o.textContent="".concat(i,"s"),a=setInterval(function(){--i<=0?(clearInterval(a),window.location.href=s.dataset.logoutUrl):o.textContent="".concat(i,"s")},1e3))},60*(t-n)*1e3),t=document.querySelector('[button-id="session-extend-refresh-btn"]'),r=document.getElementById('[button-id="session-extend-logout-btn"]'),t&&t.addEventListener("click",function(){console.log("click"),fetch(s.dataset.refresh,{method:"POST",credentials:"include"}).then(function(){e.hide()})}),r)&&r.addEventListener("click",function(){window.location.href=s.dataset.logoutUrl})}),document.querySelectorAll(".tabulator-table").forEach(function(t){var e={layout:t.dataset.layout||"fitColumns",pagination:!0,paginationSize:parseInt(t.dataset.paginationSize||"10"),columns:[],height:"100%"};if(t.dataset.columns)try{e.columns=JSON.parse(t.dataset.columns)}catch(t){console.error("Failed to parse columns:",t)}t.dataset.set?e.data=JSON.parse(t.dataset.set):t.dataset.ajaxurl&&(e.ajaxURL=t.dataset.ajaxurl,e.filterMode="remote",e.sortMode="remote",e.ajaxConfig="POST",e.ajaxContentType="json",e.paginationMode="remote",e.filterMode="remote"),new Tabulator(t,e)}),document.querySelectorAll(".tabulator-search-input").forEach(function(t){t.addEventListener("input",debounce(function(t){var e=t.target.dataset.tabulatorId,e=Tabulator.findTable("#"+e)[0],n=t.target.value.trim();e&&(""===n?e.clearFilter():(console.log(e.getColumns()),t=e.getColumns().filter(function(t){return t.getDefinition().filter}).map(function(t){return t.getField()}),e.setFilter(t.map(function(t){return{field:t,type:"like",value:n}}))))},200))});
//# sourceMappingURL=foundation.min.js.map
