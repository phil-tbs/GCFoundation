function debounce(a,i){var r;return function(){for(var t=this,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];clearTimeout(r),r=setTimeout(function(){return a.apply(t,n)},i)}}document.addEventListener("DOMContentLoaded",function(){var e,t,n,o,a,i,r,d,s,u,l,c,f=document.getElementById("session-extend-modal");f&&(e=new bootstrap.Modal(f),t=parseInt(f.dataset.sessionTimeout,10),n=parseInt(f.dataset.reminderTime,10),o=f.dataset.refresh,a=f.dataset.logoutUrl,i=document.getElementById("session-countdown"),u=function(){clearTimeout(r),clearInterval(d),r=setTimeout(function(){var t=new CustomEvent("foundation:session-reminder",{detail:{remainingTime:60*n}});window.dispatchEvent(t),s=60*n,e.show(),l()},60*(t-n)*1e3)},l=function(){i&&(i.textContent="".concat(s,"s"),d=setInterval(function(){--s<=0?(clearInterval(d),window.location.href=a):i.textContent="".concat(s,"s")},1e3))},f=document.querySelector('[button-id="session-extend-refresh-btn"]'),c=document.querySelector('[button-id="session-extend-logout-btn"]'),f&&f.addEventListener("click",function(){fetch(o,{method:"POST",credentials:"include"}).then(function(){e.hide(),u()})}),c&&c.addEventListener("click",function(){window.location.href=a}),u())}),document.querySelectorAll(".tabulator-table").forEach(function(t){var e={layout:t.dataset.layout||"fitColumns",pagination:!0,paginationSize:parseInt(t.dataset.paginationSize||"10"),columns:[],height:"100%"};if(t.dataset.columns)try{e.columns=JSON.parse(t.dataset.columns)}catch(t){console.error("Failed to parse columns:",t)}t.dataset.set?e.data=JSON.parse(t.dataset.set):t.dataset.ajaxurl&&(e.ajaxURL=t.dataset.ajaxurl,e.filterMode="remote",e.sortMode="remote",e.ajaxConfig="POST",e.ajaxContentType="json",e.paginationMode="remote",e.filterMode="remote"),new Tabulator(t,e)}),document.querySelectorAll(".tabulator-search-input").forEach(function(t){t.addEventListener("input",debounce(function(t){var e=t.target.dataset.tabulatorId,e=Tabulator.findTable("#"+e)[0],n=t.target.value.trim();e&&(""===n?e.clearFilter():(console.log(e.getColumns()),t=e.getColumns().filter(function(t){return t.getDefinition().filter}).map(function(t){return t.getField()}),e.setFilter(t.map(function(t){return{field:t,type:"like",value:n}}))))},200))}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-fdcp-collapse-toggle]").forEach(function(t){t.addEventListener("click",function(){var t=this.getAttribute("data-fdcp-collapse-toggle"),t=document.getElementById(t),e="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",(!e).toString()),t&&t.classList.toggle("fdcp-show",!e)})})});
//# sourceMappingURL=foundation.min.js.map
